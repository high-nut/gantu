<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŸ³ä¹æ’­æ”¾å™¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #333;
        }

        .music-list {
            margin: 20px 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .music-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .music-item:hover {
            background-color: #f0f0f0;
        }

        .music-item.active {
            background-color: #e3f2fd;
            font-weight: bold;
        }

        .player-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }

        button {
            padding: 10px 20px;
            background-color: #2196F3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #1976D2;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .progress-container {
            width: 100%;
            margin: 10px 0;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #ddd;
            border-radius: 5px;
            cursor: pointer;
        }

        .progress {
            height: 100%;
            background-color: #2196F3;
            border-radius: 5px;
            width: 0%;
        }

        .time-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 5px;
        }

        .now-playing {
            text-align: center;
            margin: 15px 0;
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            margin: 10px 0;
        }

        .volume-slider {
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸµ éŸ³ä¹æ’­æ”¾å™¨</h1>

        <div class="now-playing" id="nowPlaying">
            è¯·é€‰æ‹©ä¸€é¦–æ­Œæ›²
        </div>

        <div class="music-list" id="musicList">
            <!-- éŸ³ä¹åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <div class="player-controls">
            <audio id="audioPlayer"></audio>

            <div class="progress-container">
                <div class="progress-bar" id="progressBar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="time-info">
                    <span id="currentTime">00:00</span>
                    <span id="duration">00:00</span>
                </div>
            </div>

            <div class="control-buttons">
                <button id="prevBtn">â® ä¸Šä¸€é¦–</button>
                <button id="playBtn">â–¶ æ’­æ”¾</button>
                <button id="pauseBtn" disabled>â¸ æš‚åœ</button>
                <button id="nextBtn">â­ ä¸‹ä¸€é¦–</button>
            </div>

            <div class="volume-control">
                <span>ğŸ”ˆ</span>
                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" value="1">
                <span>ğŸ”Š</span>
            </div>

            <button onclick="location.href='index.html'">è¿”å›é¦–é¡µ</button>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸéŸ³ä¹æ–‡ä»¶åˆ—è¡¨ï¼ˆå®é™…åº”ç”¨ä¸­å¯ä»¥ä»æœåŠ¡å™¨è·å–ï¼‰
const musicFiles = [
    { name: "å“ˆåŸºç±³ï¼šå¤œæ¥å“ˆã€ç»å…¸æ›²ç›®ã€‘", path: "music/å“ˆåŸºç±³ï¼šå¤œæ¥å“ˆã€ç»å…¸æ›²ç›®ã€‘.mp3" },
    { name: "ã€å“ˆåŸºç±³FMã€‘æ¬¢ä¹ã®å°æ›² The Entertainerï¼ˆçº¯å‡€å“ˆåŸºç±³ï¼‰.mp3", path: "music/ã€å“ˆåŸºç±³FMã€‘æ¬¢ä¹ã®å°æ›² The Entertainerï¼ˆçº¯å‡€å“ˆåŸºç±³ï¼‰.mp3" },
    { name: "ã€å“ˆåŸºç±³ã€‘è‡´ä¸¤åƒå¹´åçš„å“ˆåŸºç±³ Counter Attack-Mankind.mp3", path: "music/ã€å“ˆåŸºç±³ã€‘è‡´ä¸¤åƒå¹´åçš„å“ˆåŸºç±³ Counter Attack-Mankind.mp3" },
    { name: "ã€å“ˆåŸºç±³æ¸…æ˜åŸºå•å“ã€‘KomorebiğŸ˜¿â€œç¾å¥½æ—¶å…‰ï¼Œåªåœ¨æ˜¨æ—¥â€.mp3", path: "music/ã€å“ˆåŸºç±³æ¸…æ˜åŸºå•å“ã€‘KomorebiğŸ˜¿â€œç¾å¥½æ—¶å…‰ï¼Œåªåœ¨æ˜¨æ—¥â€.mp3" },
    { name: "ã€å“ˆåŸºç±³éŸ³ä¹ã€‘çƒ­çˆ±105â„ƒçš„å“ˆåŸºç±³ï¼ˆå®Œæ•´ç‰ˆï¼Ÿï¼‰.mp3", path: "music/ã€å“ˆåŸºç±³éŸ³ä¹ã€‘çƒ­çˆ±105â„ƒçš„å“ˆåŸºç±³ï¼ˆå®Œæ•´ç‰ˆï¼Ÿï¼‰.mp3" },
    { name: "ã€è¡¥æ¡£ã€‘ğŸµæ›¼æ³¢ ğ‘µğ’ ğ‘´ğ’ğ’“ğ’†ğŸµä¸å†æ›¼æ³¢ï¼ˆå®Œæ•´ç‰ˆï¼‰.mp3", path: "music/ã€è¡¥æ¡£ã€‘ğŸµæ›¼æ³¢ ğ‘µğ’ ğ‘´ğ’ğ’“ğ’†ğŸµä¸å†æ›¼æ³¢ï¼ˆå®Œæ•´ç‰ˆï¼‰.mp3" },
    { name: "ã€è¡¥æ¡£ã€‘ğŸµğ‘ªğ’ğ’ğ’ğ’“-ğ‘¿ğŸµå“ˆåŸºç±³éŸ³ä¹.mp3", path: "music/ã€è¡¥æ¡£ã€‘ğŸµğ‘ªğ’ğ’ğ’ğ’“-ğ‘¿ğŸµå“ˆåŸºç±³éŸ³ä¹.mp3" },
    { name: "ä¼¤æ„Ÿæ´»å…¨å®¶å“ˆåŸºç±³éŸ³ä¹ä¹‹å“ˆåŸºç±³unchanged mind.mp3", path: "music/ä¼¤æ„Ÿæ´»å…¨å®¶å“ˆåŸºç±³éŸ³ä¹ä¹‹å“ˆåŸºç±³unchanged mind.mp3" },
    { name: "å¬å®Œå…¨å®¶äº”æ˜Ÿé€šç¼‰ã€Šå“ˆåŸºMidnight Cityã€‹â­â­â­â­â­.mp3", path: "music/å¬å®Œå…¨å®¶äº”æ˜Ÿé€šç¼‰ã€Šå“ˆåŸºMidnight Cityã€‹â­â­â­â­â­.mp3" },
    { name: "å“ˆåŸºç±³dehors ï¼ˆå®Œæ•´ç‰ˆï¼‰.mp3", path: "music/å“ˆåŸºç±³dehors ï¼ˆå®Œæ•´ç‰ˆï¼‰.mp3" },
    { name: "å“ˆåŸºç±³å¹»æ˜¼ï¼ˆå®Œæ•´ç‰ˆï¼‰.mp3", path: "music/å“ˆåŸºç±³å¹»æ˜¼ï¼ˆå®Œæ•´ç‰ˆï¼‰.mp3" },
    { name: "å“ˆåŸºç±³ï¼šMy Soul.mp3", path: "music/å“ˆåŸºç±³ï¼šMy Soul.mp3" },
    { name: "å“ˆåŸºç±³ï¼šå¤œæ¥å“ˆã€ç»å…¸æ›²ç›®ã€‘.mp3", path: "music/å“ˆåŸºç±³ï¼šå¤œæ¥å“ˆã€ç»å…¸æ›²ç›®ã€‘.mp3" },
    { name: "æˆ‘ä¹Ÿç®—ä¸‡ç§é£æƒ… å®éè‰¯äºº æ›¼æ³¢ã®ä¹ä¸‡å­—.mp3", path: "music/æˆ‘ä¹Ÿç®—ä¸‡ç§é£æƒ… å®éè‰¯äºº æ›¼æ³¢ã®ä¹ä¸‡å­—.mp3" },
    { name: "æ›¼æ³¢ã€æ›¼æ³¢ã€æœ‰æ—¶å“ˆåŸºç±³.mp3", path: "music/æ›¼æ³¢ã€æ›¼æ³¢ã€æœ‰æ—¶å“ˆåŸºç±³.mp3" },
    { name: "æ¤ç‰©å¤§æˆ˜åŸºç±³ å±‹é¡¶.mp3", path: "music/æ¤ç‰©å¤§æˆ˜åŸºç±³ å±‹é¡¶.mp3" },
    { name: "æ°´æ± çº¯äº«.mp3", path: "music/æ°´æ± çº¯äº«.mp3" },
    { name: "è·³æ¥¼åŸº.mp3", path: "music/è·³æ¥¼åŸº.mp3" },
    { name: "ğŸµå“ˆåŸºç±³FMä¹‹æ”¾æ¾å°æ›²ğŸµ.mp3", path: "music/ğŸµå“ˆåŸºç±³FMä¹‹æ”¾æ¾å°æ›²ğŸµ.mp3" },
    { name: "ğŸµå¤ªç©ºæ›¼æ³¢ ğ‘ºğ’‘ğ’‚ğ’„ğ’† ğ‘¾ğ’‚ğ’ğ’ŒğŸµå“ˆåŸºç±³çº¯éŸ³ä¹.mp3", path: "music/ğŸµå¤ªç©ºæ›¼æ³¢ ğ‘ºğ’‘ğ’‚ğ’„ğ’† ğ‘¾ğ’‚ğ’ğ’ŒğŸµå“ˆåŸºç±³çº¯éŸ³ä¹.mp3" },
    { name: "ğŸ±æ˜ŸåŸºç©¿è¶ŠğŸ±.mp3", path: "music/ğŸ±æ˜ŸåŸºç©¿è¶ŠğŸ±.mp3" },
    { name: "ğŸ±æ²‰æ²¦åŸºç±³ä¹‹æµ·ğŸ±.mp3", path: "music/ğŸ±æ²‰æ²¦åŸºç±³ä¹‹æµ·ğŸ±.mp3" }
];

        // DOM å…ƒç´ 
        const audioPlayer = document.getElementById('audioPlayer');
        const musicList = document.getElementById('musicList');
        const nowPlaying = document.getElementById('nowPlaying');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const progress = document.getElementById('progress');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const volumeSlider = document.getElementById('volumeSlider');

        // å½“å‰æ’­æ”¾ç´¢å¼•
        let currentTrackIndex = -1;
        let isPlaying = false;

        // åˆå§‹åŒ–éŸ³ä¹åˆ—è¡¨
        function initMusicList() {
            musicList.innerHTML = '';
            musicFiles.forEach((track, index) => {
                const item = document.createElement('div');
                item.className = 'music-item';
                item.textContent = track.name;
                item.addEventListener('click', () => loadAndPlayTrack(index));
                musicList.appendChild(item);
            });
        }

        // åŠ è½½å¹¶æ’­æ”¾æŒ‡å®šéŸ³ä¹
        function loadAndPlayTrack(index) {
            if (index >= 0 && index < musicFiles.length) {
                // æ›´æ–°å½“å‰æ’­æ”¾ç´¢å¼•
                currentTrackIndex = index;

                // æ›´æ–°éŸ³ä¹åˆ—è¡¨é«˜äº®æ˜¾ç¤º
                updateActiveTrack();

                // è®¾ç½®éŸ³é¢‘æº
                audioPlayer.src = musicFiles[index].path;
                audioPlayer.load();

                // æ›´æ–°æ­£åœ¨æ’­æ”¾ä¿¡æ¯
                nowPlaying.textContent = `æ­£åœ¨æ’­æ”¾: ${musicFiles[index].name}`;

                // å¼€å§‹æ’­æ”¾
                playTrack();
            }
        }

        // æ›´æ–°æ´»åŠ¨æ›²ç›®é«˜äº®æ˜¾ç¤º
        function updateActiveTrack() {
            const items = document.querySelectorAll('.music-item');
            items.forEach((item, index) => {
                if (index === currentTrackIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // æ’­æ”¾éŸ³ä¹
        function playTrack() {
            if (currentTrackIndex !== -1) {
                audioPlayer.play()
                    .then(() => {
                        isPlaying = true;
                        playBtn.disabled = true;
                        pauseBtn.disabled = false;
                    })
                    .catch(error => {
                        console.error("æ’­æ”¾å¤±è´¥:", error);
                        alert("æ— æ³•æ’­æ”¾æ­¤éŸ³é¢‘æ–‡ä»¶");
                    });
            }
        }

        // æš‚åœéŸ³ä¹
        function pauseTrack() {
            audioPlayer.pause();
            isPlaying = false;
            playBtn.disabled = false;
            pauseBtn.disabled = true;
        }

        // æ’­æ”¾ä¸‹ä¸€é¦–
        function playNextTrack() {
            if (musicFiles.length > 0) {
                currentTrackIndex = (currentTrackIndex + 1) % musicFiles.length;
                loadAndPlayTrack(currentTrackIndex);
            }
        }

        // æ’­æ”¾ä¸Šä¸€é¦–
        function playPrevTrack() {
            if (musicFiles.length > 0) {
                currentTrackIndex = (currentTrackIndex - 1 + musicFiles.length) % musicFiles.length;
                loadAndPlayTrack(currentTrackIndex);
            }
        }

        // æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º (ç§’è½¬ä¸º mm:ss)
        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progress.style.width = `${percent}%`;
            currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
        }

        // è®¾ç½®è¿›åº¦æ¡ç‚¹å‡»äº‹ä»¶
        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;

            audioPlayer.currentTime = (clickX / width) * duration;
        }

        // äº‹ä»¶ç›‘å¬å™¨
        playBtn.addEventListener('click', playTrack);
        pauseBtn.addEventListener('click', pauseTrack);
        nextBtn.addEventListener('click', playNextTrack);
        prevBtn.addEventListener('click', playPrevTrack);

        audioPlayer.addEventListener('timeupdate', updateProgress);
        audioPlayer.addEventListener('ended', playNextTrack);
        audioPlayer.addEventListener('loadedmetadata', () => {
            durationEl.textContent = formatTime(audioPlayer.duration);
        });

        progressBar.addEventListener('click', setProgress);

        volumeSlider.addEventListener('input', () => {
            audioPlayer.volume = volumeSlider.value;
        });

        // åˆå§‹åŒ–
        initMusicList();
    </script>
</body>
</html>
